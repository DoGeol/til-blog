import{_ as n,d as s}from"./app.cfdec6ef.js";const a={},p=s(`<h1 id="_2022-04-25" tabindex="-1"><a class="header-anchor" href="#_2022-04-25" aria-hidden="true">#</a> 2022-04-25</h1><blockquote><p>\u2705\uFE0F <strong>\uC54C</strong>\uACE0\uB098\uBA74 <strong>\uC4F8</strong>\uBAA8\uC788\uB294 <strong>\uC2E0</strong>\uBC15\uD55C <strong>\uC7A1</strong>\uAE30\uC220</p></blockquote><h2 id="blob-\u1110\u1161\u110B\u1175\u11B8\u110B\u1173\u1105\u1169-file-download-\u1112\u1161\u1100\u1175" tabindex="-1"><a class="header-anchor" href="#blob-\u1110\u1161\u110B\u1175\u11B8\u110B\u1173\u1105\u1169-file-download-\u1112\u1161\u1100\u1175" aria-hidden="true">#</a> Blob \uD0C0\uC785\uC73C\uB85C File Download \uD558\uAE30</h2><blockquote><p>\u{1F4A1}Blob(Binary Large Object) \uC774\uB780?<br> \uC774\uBBF8\uC9C0, \uC0AC\uC6B4\uB4DC, \uBE44\uB514\uC624 \uAC19\uC740 \uBA40\uD2F0\uBBF8\uB514\uC5B4 \uB370\uC774\uD130\uB97C \uB2E4\uB8E8\uAE30 \uC704\uD55C Binary \uAC1D\uCCB4</p></blockquote><p>Javascript\uC5D0\uC11C \uC774\uBBF8\uC9C0, \uB3D9\uC601\uC0C1, \uC555\uCD95 \uD30C\uC77C\uC758 <strong>\uC5C5\uB85C\uB4DC, \uB2E4\uC6B4\uB85C\uB4DC</strong>\uC5D0 Blob\uC774 \uC0AC\uC6A9\uB41C\uB2E4</p><ul><li><p>\uC5C5\uB85C\uB4DC<br> input [type=&quot;file&quot;]\uC73C\uB85C file\uAC1D\uCCB4\uB97C formData\uC5D0 \uB2F4\uC544 API\uB97C \uD1B5\uD574 DB\uC5D0 \uC800\uC7A5</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// HTML</span>
<span class="token operator">&lt;</span>input <span class="token keyword">class</span><span class="token operator">=</span><span class="token string">&quot;file_upload&quot;</span> type<span class="token operator">=</span><span class="token string">&quot;file&quot;</span> style<span class="token operator">=</span><span class="token string">&quot;display: none&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span>

<span class="token comment">// Javascript </span>
<span class="token keyword">const</span> file <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;.file_upload&#39;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>file<span class="token punctuation">.</span>files<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span>
<span class="token operator">...</span> 
<span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FormData</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
data<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span>

<span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">headers</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token string-property property">&#39;Content-Type&#39;</span><span class="token operator">:</span> <span class="token string">&#39;multipart/form-data&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> apiPath<span class="token punctuation">,</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;post&#39;</span><span class="token punctuation">,</span>
  data<span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div></li><li><p>\uB2E4\uC6B4\uB85C\uB4DC<br> API\uB97C \uD1B5\uD574 \uC804\uB2EC \uBC1B\uC740 Data\uB97C content-type\uC744 \uC9C0\uC815\uD558\uC5EC \uC804\uB2EC\uBC1B\uC544 \uD2B9\uC815 \uBC29\uBC95\uC744 \uD1B5\uD574 \uB2E4\uC6B4\uB85C\uB4DC \uC9C4\uD589</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token function">axios</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">url</span><span class="token operator">:</span> file_url<span class="token punctuation">,</span>
  <span class="token literal-property property">method</span><span class="token operator">:</span> <span class="token string">&#39;get&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">responseType</span><span class="token operator">:</span> <span class="token string">&#39;blob&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
     <span class="token keyword">const</span> blobUrl <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>response<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
     
     <span class="token comment">// * createOjectURL \uD568\uC218\uC5D0 MIME_TYPE\uC744 2\uBC88\uC9F8 \uC778\uC790\uB85C \uBC1B\uC544\uC11C \uCC98\uB9AC \uAC00\uB2A5</span>
     <span class="token comment">// const blobUrl = window.URL.createObjectURL(new Blob([response.data]) , { type: &#39;application/zip&#39; })</span>

     <span class="token keyword">const</span> downLink <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;a&#39;</span><span class="token punctuation">)</span>
     downLink<span class="token punctuation">.</span>href <span class="token operator">=</span> blobUrl
     downLink<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&#39;download&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;test.png&#39;</span><span class="token punctuation">)</span> <span class="token comment">// \uD30C\uC77C\uC758 origin name\uC744 \uCD94\uAC00 (ex. test.png / 20200202_\uD14C\uC2A4\uD2B8.zip)</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>downLink<span class="token punctuation">)</span>
     downLink<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
     document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>downLink<span class="token punctuation">)</span>

     window<span class="token punctuation">.</span><span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">revokeObjectURL</span><span class="token punctuation">(</span>blobUrl<span class="token punctuation">)</span> <span class="token comment">// blob url\uC740 URL\uC774 \uC720\uD6A8\uD558\uB2E4\uACE0 \uD310\uB2E8\uD558\uC5EC GC\uB418\uC9C0 \uC54A\uC73C\uBBC0\uB85C \uC644\uB8CC \uC804 \uD574\uC81C\uD574\uC8FC\uB294 \uC2B5\uAD00 \uD544\uC694</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div></li></ul>`,6);function t(e,o){return p}var l=n(a,[["render",t],["__file","2022-04-25.html.vue"]]);export{l as default};
